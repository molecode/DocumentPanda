{% extends 'base.html' %}
{% load i18n %}

{% block body %}
    {% for year in years %}
        {% if year == view.kwargs.year %}
            {{ year }}
        {% else %}
            <a href="{% url 'reports:year_report' year %}">{{ year }}</a>
        {% endif %}
    {% endfor %}
    <br \>
    {% if customers %}
        {% if view.kwargs.customer %}
            <a href="{% url 'reports:year_report' view.kwargs.year %}">{% trans 'All' %}</a>
        {% else %}
            {% trans 'All' %}
        {% endif %}
    {% endif %}
    {% for customer in customers|dictsort:'customer__name' %}
        {% if current_customer.name == customer.customer__name %}
            {{ customer.customer__name }}
        {% else %}
            <a href="{% url 'reports:year_report' view.kwargs.year customer.customer__id %}">{{ customer.customer__name }}</a>
        {% endif %}
    {% endfor %}
    <h1>{{ view.kwargs.year }} {% if view.kwargs.customer %}-- {{ current_customer.name }}{% endif %}</h1>
    <ul>
        <li><a href="{% url 'reports:add' %}">{% trans 'Add report' %}</a></li>
    {% if monthreport_list %}
        {% for report in monthreport_list %}
            <li><a href="{% url 'reports:update' report.id %}">{{ report }}</a>(<a href="{% url 'reports:delete' report.id %}">{% trans 'Delete' %}</a>)</li>
        {% endfor %}
    {% else %}
        <p>{% trans 'No reports are available.' %}</p>
    {% endif %}
    </ul>
{% endblock body %}